<div class="home-container">
    <div id="home">
        <h1>Welcome to Mountain Cottage!</h1>
        <section class="stats-grid">
            <div class="stat-card">
                <h3>{{ stats.allCottages }}</h3>
                <p>Cottages</p>
            </div>
            <div class="stat-card">
                <h3>{{ stats.allOwners }}</h3>
                <p>Registered owners</p>
            </div>
            <div class="stat-card">
                <h3>{{ stats.allTourists }}</h3>
                <p>Registered tourists</p>
            </div>
        </section>
        <section class="stats-grid">
            <div class="stat-card">
                <h3>{{ stats.reservations24h }}</h3>
                <p>Reservations in last 24h</p>
            </div>
            <div class="stat-card">
                <h3>{{ stats.reservations7d }}</h3>
                <p>Reservations in last week</p>
            </div>
            <div class="stat-card">
                <h3>{{ stats.reservations30d }}</h3>
                <p>Reservations in last month</p>
            </div>
        </section>
    </div>

    <section class="cottage-section">
        <h2>Find your ideal cottage!</h2>

        <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="search-form">
            <input type="text" formControlName="name" placeholder="Cottage name...">
            <input type="text" formControlName="location" placeholder="Location...">
            <button type="submit">Search</button>
        </form>

        <table>
            <thead>
                <tr>
                    <th (click)="onSort('name')">
                        Name
                        <span *ngIf="sortBy === 'name'">{{ sortOrder === 'asc' ? '↑' : '↓' }}</span>
                    </th>
                    <th (click)="onSort('location')">
                        Location
                        <span *ngIf="sortBy === 'location'">{{ sortOrder === 'asc' ? '↑' : '↓' }}</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let c of cottages">
                    <td>{{ c.name }}</td>
                    <td>{{ c.location }}</td>
                </tr>
                <tr *ngIf="cottages.length === 0">
                    <td colspan="3">There are no results.</td>
                </tr>
            </tbody>
        </table>
    </section>
</div>